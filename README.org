#+startup: showall

* ob-ammonite.el
  org-babel for scala evaluation in [[https://github.com/zwild/ammonite-term-repl][ammonite-term-repl]].

** Install
   #+begin_src sh
   brew install ammonite-repl
   #+end_src

   It's not available in MELPA now. If you use =package.el=, you can install it like this

   #+begin_src elisp
   (defun package-install-from-raw-github (url)
     (let* ((base-url "https://raw.githubusercontent.com/")
            (full-url (concat base-url url))
            (target-dir (expand-file-name "~/.emacs.d/github-pkgs/"))
            (target-name (car-safe (last (split-string full-url "/" t))))
            (target (concat target-dir target-name)))
       (unless (file-exists-p target-dir)
         (mkdir target-dir))
       (unless (file-exists-p target)
         (url-copy-file full-url target t)
         (package-install-file target))))

   (package-install-from-raw-github "zwild/ammonite-term-repl/master/ammonite-term-repl.el")
   (package-install-from-raw-github "zwild/ob-ammonite/master/ob-ammonite.el")
   #+end_src

** Usage
   #+begin_src org
   ,#+begin_src amm :results org
   sealed trait Maybe[+T]
   final case object Empty extends Maybe[Nothing]
   final case class Just[T](t: T) extends Maybe[T]
   ,#+end_src

   ,#+RESULTS:
   ,#+BEGIN_SRC org
   defined trait Maybe
   defined object Empty
   defined class Just
   ,#+END_SRC
   #+end_src

** Demo
   With this [[https://github.com/melpa/melpa/pull/5999][discussion]], please replace the *scala* in *begin_src* block with *amm*
   [[./demo.gif]]
